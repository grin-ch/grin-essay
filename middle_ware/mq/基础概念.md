##### MQ(Message Queue)

###### 消息队列的角色

- 生产者:发送消息的系统
- 消费者:接收处理消息的系统

##### 消息模式

###### 点对点模式

- 一个生产者发送的每一个消息都只能由一个消费者消费，消息就像从一个点传递到另一个点。

###### 发布订阅模式

- 一个生产者生产的每一条消息都会发送到订阅此队列的消费者，多个消费者都可以收到这个消息。

##### MQ的作用

- 为系统之间增加通用性的异步处理能力
- 降低系统间的耦合性，包括开发期的引用关系依赖还是运行期的调用关系依赖。通信双方只需要定义好消息的数据格式。
- 提升了系统间的通信可靠性。
  - 通信本身的可靠性:请求响应机制，重试
  - 业务意义上的可靠性:处理顺序、事务、失败策略
- 削峰填谷。提升了系统的业务缓冲能力。
  - 当业务量突然增多时，可以将业务处理请求缓存到MQ中，再通过消费者逐个消息处理，保障系统不会因为峰值流量而瘫痪。
